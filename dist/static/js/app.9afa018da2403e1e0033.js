webpackJsonp([1],{"/Q2z":function(t,e){},"26cW":function(t,e,i){"use strict";function n(t){i("uSV6")}var o=i("kouS"),a=i("7Wvr"),s=i("XAIM"),r=n,c=s(o.a,a.a,!1,r,"data-v-fbfd6244",null);e.a=c.exports},"2Y24":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGNzFGQUMyQjdGMzExRTdCRjMwRDhEQTY4MDNBRTVDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGNzFGQUMzQjdGMzExRTdCRjMwRDhEQTY4MDNBRTVDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEY3MUZBQzBCN0YzMTFFN0JGMzBEOERBNjgwM0FFNUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEY3MUZBQzFCN0YzMTFFN0JGMzBEOERBNjgwM0FFNUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60Iy/8AAABxElEQVR42uzcQU7CQBSA4WJYinILOYIHIBxAbsPe4+gBCGHNohcwXoIQ9zgmY0KItLGLaTvzfcnb0I1O/9Ti4k3quj5XFOvOEQgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAIYn88w6zCPcdbxs+JMC/ydP8I8hzlefPYeZh/mEObJEyBvm6ub/+sYr/kTkLldw7WtAPJ3arj2JQAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiAggO43Mkz6Xna9P3zJd1ZlGJH0F87ebjtZ4FFsp1FKZ4AGze/kyQ7i1IEsHMvO9vmEACFvwQuHXNnqxwCeA0zdy//bR7PbvQBLOLb7EuYmfvaahbP6hDPbvRfA6v4VeZtIAfc9r+As3cABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAH07qHh2r0A8te0s2glgPzd2lmUZCePAPp3vbMo6U6eoZlWZRrSziJPAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIgK6+BRgAAUMpKcJwzJgAAAAASUVORK5CYII="},"7Wvr":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"demo"},[i("div",{staticClass:"title"},[t._v("\n    TYPhotoPicker1\n  ")]),t._v(" "),i("div",{staticClass:"tip"},[t._v("\n    1. 能够在微信之外运行，但主要还是为了在微信页面内调用相册选择器而设计的 "),i("br"),t._v("\n    2. 在微信中使用，由于iOS平台中的图片转码缓慢，所以弃用调用微信js，通过设置PhotoPicker.iosWeixin也能够调用微信JS "),i("br"),t._v("\n    关注这个微信号：关注后才允许调用weixin-js-sdk "),i("br"),t._v(" "),i("img",{attrs:{src:t.qrImg,width:"200",height:"200",alt:""}}),t._v(" "),i("br"),t._v("\n    因为测试账号限制了只允许被100人关注, 当发现不能在微信中运行的时候请来到下面，自行申请测试账号， "),i("br"),t._v("\n    申请微信测试公众号：https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login "),i("br"),t._v("\n    申请账号之后填写测试域名（一个测试账号允许有一个域名调用weixin-js-sdk），并调整wxJsComponen中对appid、secret的赋值\n  ")]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"question"},[t._v("\n      请选择图片：\n    ")]),t._v(" "),i("div",{staticClass:"display-flex-box flex-wrap"},[t._l(t.imgs,function(e,n){return i("div",{staticClass:"img-box"},[i("img",{staticClass:"img shrink-none",attrs:{src:e},on:{click:function(e){t.deleteImg(n)}}})])}),t._v(" "),t.imgs.length<10?i("div",{staticClass:"img-box background-none"},[i("img",{staticClass:"img shrink-none",attrs:{src:t.addMoreImg},on:{click:t.addImg}})]):t._e(),t._v(" "),i("photo-picker",{ref:"tyPhotoPicker",attrs:{hidden:"true"},on:{onLoadLocalIds:t.onLoadLocalIds}})],2)])])},o=[],a={render:n,staticRenderFns:o};e.a=a},"8CGt":function(t,e,i){"use strict";var n=i("bXvV"),o=new function(){var t="";this.commonRequest=function(t,e,i,o,a){var s="https://api.weixin.qq.com"+i;console.log("commonRequest #url:"+s+"#isAsync:"+e+"#jsonData:"+o),n.ajax({type:t,url:s,async:e,data:o,dataType:"JSON",headers:{"Content-Type":"application/json"},success:function(t){console.log("commonRequest success url:"+s+" 结果："+JSON.stringify(t)),t&&100===t.code?a&&a(!0,t):a&&a(!1,t)},error:function(t,e,i){console.log("commonRequest error url:"+s+" 失败："+t.status),a&&a(!1)}})},this.getWXConfigAccessToken=function(e,i,n){t=e,console.warn("getWXConfigAccessToken"),this.commonRequest("GET",!1,"/cgi-bin/token?grant_type=client_credential&appid="+e+"&secret="+i,"",function(t,e){t?n&&n(!0,e.data):n&&n(!1)})},this.getWXConfigTicket=function(t,e){console.warn("getWXConfigTicket"),this.commonRequest("GET",!1,"/cgi-bin/ticket/getticket?type=jsapi&access_token="+t,"",function(t,i){t?e&&e(!0,i.data):e&&e(!1)})},this.getWXConfigSignature=function(e,i,n,o,a){console.warn("getWXConfigSignature:"+o);var s="jsapi_ticket="+e+"&noncestr="+i+"&timestamp="+n+"&url="+o,r=this.sha1(s);if(r){a(!0,{activeStatus:!0,appId:t,timestamp:n,nonceStr:i,signature:r})}else a(!1)},this.sha1=function(t){function e(t){for(var e=t,s=Array(80),r=1732584193,c=-271733879,h=-1732584194,l=271733878,g=-1009589776,u=0;u<e.length;u+=16){for(var d=r,f=c,m=h,A=l,v=g,w=0;w<80;w++){s[w]=w<16?e[u+w]:a(s[w-3]^s[w-8]^s[w-14]^s[w-16],1);var I=o(o(a(r,5),i(w,c,h,l)),o(o(g,s[w]),n(w)));g=l,l=h,h=a(c,30),c=r,r=I}r=o(r,d),c=o(c,f),h=o(h,m),l=o(l,A),g=o(g,v)}return[r,c,h,l,g]}function i(t,e,i,n){return t<20?e&i|~e&n:t<40?e^i^n:t<60?e&i|e&n|i&n:e^i^n}function n(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function o(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function a(t,e){return t<<e|t>>>32-e}function s(t){for(var e=1+(t.length+8>>6),i=new Array(16*e),n=0;n<16*e;n++)i[n]=0;for(n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<24-8*(3&n);return i[n>>2]|=128<<24-8*(3&n),i[16*e-1]=8*t.length,i}function r(t){for(var e=c?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>8*(3-n%4)+4&15)+e.charAt(t[n>>2]>>8*(3-n%4)&15);return i}!function(t){r(e(s(t)))}(t);var c=0}};t.exports={tyService:o,$:n}},"8mmz":function(t,e,i){t.exports=i.p+"static/img/测试公众号二维码.f327aa5.jpg"},H3lr:function(t,e,i){"use strict";function n(t){i("/Q2z")}var o=i("Y6LL"),a=i("I0PP"),s=i("XAIM"),r=n,c=s(o.a,a.a,!1,r,"data-v-f1bef6a4",null);e.a=c.exports},I0PP:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"photo-picker-container"},[i("input",{attrs:{id:"photo-picker-input",hidden:"true",name:"file",type:"file",accept:"image/*"},on:{change:function(e){t.onPickedPhotos(e)}}})])},o=[],a={render:n,staticRenderFns:o};e.a=a},KtrQ:function(t,e){},M93x:function(t,e,i){"use strict";function n(t){i("KtrQ")}var o=i("T4DX"),a=i("ffUS"),s=i("XAIM"),r=n,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("I+zW"),o=i("M93x"),a=i("YaEn"),s=i("gxss"),r=i.n(s),c=i("yrGq");i.n(c);n.default.config.productionTip=!1,n.default.use(r.a),new n.default({el:"#app",router:a.a,render:function(t){return t(o.a)}})},QEa4:function(t,e,i){"use strict";function n(t){var e=t.naturalWidth;if(e*t.naturalHeight>1048576){var i=document.createElement("canvas");i.width=i.height=1;var n=i.getContext("2d");return n.drawImage(t,1-e,0),0===n.getImageData(0,0,1,1).data[3]}return!1}function o(t,e,i){var n=document.createElement("canvas");n.width=1,n.height=i;var o=n.getContext("2d");o.drawImage(t,0,0);for(var a=o.getImageData(0,0,1,i).data,s=0,r=i,c=i;c>s;){0===a[4*(c-1)+3]?r=c:s=c,c=r+s>>1}var h=c/i;return 0===h?1:h}function a(t,e,i){var n=document.createElement("canvas");return s(t,n,e,i),n.toDataURL("image/jpeg",e.quality||.8)}function s(t,e,i,a){var s=t.naturalWidth,c=t.naturalHeight,h=i.width,l=i.height,g=e.getContext("2d");g.save(),r(e,g,h,l,i.orientation),n(t)&&(s/=2,c/=2);var u=1024,d=document.createElement("canvas");d.width=d.height=u;for(var f=d.getContext("2d"),m=a?o(t,s,c):1,A=Math.ceil(u*h/s),v=Math.ceil(u*l/c/m),w=0,I=0;w<c;){for(var p=0,b=0;p<s;)f.clearRect(0,0,u,u),f.drawImage(t,-p,-w),g.drawImage(d,0,0,u,u,b,I,A,v),p+=u,b+=A;w+=u,I+=v}g.restore(),d=f=null}function r(t,e,i,n,o){switch(o){case 5:case 6:case 7:case 8:t.width=n,t.height=i;break;default:t.width=i,t.height=n}switch(o){case 2:e.translate(i,0),e.scale(-1,1);break;case 3:e.translate(i,n),e.rotate(Math.PI);break;case 4:e.translate(0,n),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-n);break;case 7:e.rotate(.5*Math.PI),e.translate(i,-n),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-i,0)}}function c(t){if(window.Blob&&t instanceof Blob){var e=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");e.src=i.createObjectURL(t),this.blob=t,t=e}if(!t.naturalWidth&&!t.naturalHeight){var n=this;t.onload=function(){var t=n.imageLoadListeners;if(t){n.imageLoadListeners=null;for(var e=0,i=t.length;e<i;e++)t[e]()}},this.imageLoadListeners=[]}this.srcImage=t}c.prototype.render=function(t,e){if(this.imageLoadListeners){var i=this;return void this.imageLoadListeners.push(function(){i.render(t,e)})}e=e||{};var n=this.srcImage.naturalWidth,o=this.srcImage.naturalHeight,r=e.width,c=e.height,h=e.maxWidth,l=e.maxHeight,g=!this.blob||"image / jpeg"===this.blob.type;r&&!c?c=o*r/n<<0:c&&!r?r=n*c/o<<0:(r=n,c=o),h&&r>h&&(r=h,c=o*r/n<<0),l&&c>l&&(c=l,r=n*c/o<<0);var u={width:r,height:c};for(var d in e)u[d]=e[d];var f=t.tagName.toLowerCase();"img"===f?t.src=a(this.srcImage,u,g):"canvas"===f&&s(this.srcImage,t,u,g)," function"==typeof this.onrender&&this.onrender(t)},t.exports=c},T4DX:function(t,e,i){"use strict";var n=i("Gnhh"),o=i.n(n);e.a={name:"app",created:function(){var t=document.createElement("div");document.body.appendChild(t),o.a.init({container:t,tool:["console","elements"]})}}},Y6LL:function(t,e,i){"use strict";var n=i("u6qr"),o=i.n(n),a=i("uVNh"),s=i.n(a),r=i("gxss");i.n(r);e.a={name:"PhotoPicker",data:function(){return{iosWeixin:!1,isAndroid:-1!==navigator.userAgent.toLowerCase().indexOf("android"),isIOS:-1!==navigator.userAgent.toLowerCase().indexOf("iphone os"),isSafari:-1!==navigator.userAgent.toLowerCase().indexOf("safari"),selectedPhotoNum:0,maxPhotoNum:9,photoList:[]}},methods:{setCurrentPhotoNum:function(t){t&&(this.selectedPhotoNum=t)},setLimitPhotoNum:function(t){t&&(this.maxPhotoNum=t)},pickPhoto:function(){this.photoList=[],this.isAndroid||this.iosWeixin?(console.warn("pickPhoto1"),this.showWeixinPicker()):(console.warn("pickPhoto3"),document.getElementById("photo-picker-input").click())},loadPhotoInfo:function(t,e,i){e?this.isAndroid?s.a.loadImageWithUrl(t,function(e){i&&i({isWeixinJs:!0,localId:t,originWidth:e.width,originHeight:e.height})}):s.a.getImageBase64Data(t,function(e,n,o){i&&i({isWeixinJs:!0,localId:t,localData:e,originWidth:n,originHeight:o})}):(this.isIOS||this.isSafari,s.a.loadAndCompressInputImageData(t,function(e,n,o){i&&(console.warn("wxJsComponent.loadAndCompressInputImageData imageWidth:"+n+", imageHeight:"+o),i({isWeixinJs:!1,fileName:t.name,localData:e,originWidth:n,originHeight:o}))}))},loadPhotoListInfo:function(t,e,i){if(t&&t.length){var n=this,o=t[0];this.loadPhotoInfo(o,e,function(o){n.photoList.push(o),t.length>1?n.loadPhotoListInfo(t.slice(1),e,i):i&&i()})}else i&&i()},showWeixinPicker:function(){console.log("onTapShowMore");var t=this,e=this.maxPhotoNum-this.selectedPhotoNum;s.a.pickPhoto(function(e,i){e?i&&i.length&&t.loadPhotoListInfo(i,!0,function(){t.$emit("onLoadLocalIds",t.photoList),t.photoList=null}):Object(r.Toast)({message:"添加图片失败",duration:600})},e)},onPickedPhotos:function(t){var e=t.currentTarget.files;console.log("onPickedPhotos");var i=this;if(e&&e.length){if(e.length+this.selectedPhotoNum>this.maxPhotoNum)return void Object(r.Toast)({message:"最多可以选取"+this.maxPhotoNum+"张图片",duration:600});var n,a=[],s=!0,c=!1,h=void 0;try{for(var l,g=o()(e);!(s=(l=g.next()).done);s=!0)n=l.value,a.push(n)}catch(t){c=!0,h=t}finally{try{!s&&g.return&&g.return()}finally{if(c)throw h}}this.loadPhotoListInfo(a,!1,function(){i.$emit("onLoadLocalIds",i.photoList)})}}},mounted:function(){},created:function(){}}},YaEn:function(t,e,i){"use strict";var n=i("I+zW"),o=i("1eSk"),a=i("26cW");n.default.use(o.a),e.a=new o.a({routes:[{path:"/",name:"Demo",component:a.a}]})},ffUS:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],a={render:n,staticRenderFns:o};e.a=a},kouS:function(t,e,i){"use strict";var n=i("H3lr"),o=i("gxss");i.n(o);e.a={name:"Demo",data:function(){return{isWeixinJs:!1,addMoreImg:i("2Y24"),imgs:[],imgData:[],qrImg:i("8mmz")}},components:{"photo-picker":n.a},methods:{deleteImg:function(t){var e=this;Object(o.MessageBox)({title:"提示",message:"是否删除图片",showCancelButton:!0}).then(function(i){"cancel"!==i&&(e.imgs.splice(t,1),e.imgData.splice(t,1))},function(t){console.log(t)})},addImg:function(){console.log("addImg"),this.$refs.tyPhotoPicker.setLimitPhotoNum(10),this.$refs.tyPhotoPicker.setCurrentPhotoNum(this.imgs.length),this.$refs.tyPhotoPicker.pickPhoto()},onLoadLocalIds:function(t){if(console.debug("onLoadLocalIds===="),console.debug(t),this.imgData=this.imgData.concat(t),this.isWeixinJs=t[0].isWeixinJs,this.isWeixinJs){for(var e=[],i=0;i<t.length;i++)e.push(t[i].localId);this.imgs=this.imgs.concat(e),console.debug("this.imgs----"),console.debug(this.imgs)}else{for(var n=[],o=0;o<t.length;o++)t[o].localData&&n.push(t[o].localData);this.imgs=this.imgs.concat(n),console.debug("this.imgs----"),console.debug(this.imgs)}}}}},uSV6:function(t,e){},uVNh:function(t,e,i){"use strict";var n=i("C/he"),o=i("8CGt"),a=i("SWMY"),s=i("QEa4"),r=new function(){this.configHistory=new Map,this.initConfig=function(t,e){if(console.warn("initConfig1"+JSON.stringify(t)),t.activeStatus){console.warn("initConfig2");var i=t.appId,o=t.timestamp,a=t.nonceStr,s=t.signature;n.config({debug:!0,appId:i,timestamp:o,nonceStr:a,signature:s,jsApiList:["chooseImage","previewImage"]})}var r=!1;n.error(function(t){r=!0,console.warn("wx.error:"+JSON.stringify(t)),e&&(e(!1),e=null)}),n.ready(function(){console.warn("wx.ready hasError:"+r),e&&e(!r)})},this.hasAuthorized=function(t){var e=Math.round((new Date).getTime()/1e3);if(-1!==navigator.userAgent.toLowerCase().indexOf("iphone os"))for(var i in this.configHistory){if(this.configHistory[i]&&this.configHistory[i].lastTime&&this.configHistory[i].success){if(e-this.configHistory[i].lastTime<5400)return console.log("wxJSConfig ios has history:"+i),!0;this.configHistory.delete(i)}break}else{var n=this.configHistory.get(t);if(n&&n.lastTime&&n.success){if(e-n.lastTime<5400)return console.log("wxJSConfig android has history:"+t),!0;this.configHistory.delete(t)}}return!1},this.wxJSConfig=function(t){var e=window.location.href.split("#")[0];if(console.log("wxJSConfig window.location.href1:"+e),this.hasAuthorized(e))return void(t&&t(!0));var i=this,n=e.replace(/&/g,"%26"),a="";o.getWXConfigAccessToken("wxcfd35355d34a1894","c99b4935724d9b4f3c725a94d59a7640",function(t,e){t&&(a=e,console.debug(e))});var s="";o.getWXConfigTicket(a,function(t,e){t&&(console.debug(e),s=e)});var r=new Date;o.getWXConfigSignature(s,"Wm3WZYTPz0wzccnW",r,n,function(n,o){n?(console.log("获取签名 success:"+JSON.stringify(o)),i.initConfig(o,function(n){if(console.log("initConfig 11:"+n),n){if(e){var o={};o.success=!0,o.lastTime=Math.round((new Date).getTime()/1e3),i.configHistory.set(e,o)}}else{i.configHistory.get(e)&&e&&i.configHistory.delete(e)}t&&t(n)})):(console.log("获取签名 fail:"+o),t&&t(!1))})},this.pickPhoto=function(t,e){(!e||e>9)&&(e=9),console.log("pickPhoto:"+e),this.wxJSConfig(function(i){console.log("pickPhoto wxJSConfig2:"+i),n.chooseImage({count:e,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t&&t(!0,e.localIds)},error:function(){console.warn("####chooseImage error")},complete:function(){console.warn("####chooseImage complete")},fail:function(){console.warn("####chooseImage fail")},failed:function(){console.warn("####chooseImage failed")}})})},this.previewImage=function(t,e){e=e||[t],n.previewImage({current:t,urls:e})},this.loadLocalPhotoData=function(t,e){this.wxJSConfig(function(i){i?n.getLocalImgData({localId:t,success:function(t){var i=t.localData;e&&e(!0,i)}}):e&&e(!1)})},this.loadLocalPhotoListData=function(t,e,i){if(t&&t.length){i=i||[];var n=this,o=t[0];this.loadLocalPhotoData(o,function(a,s){var r={};r.localId=o,r.data=s,i.push(r),t.length>1?(e&&e(!1,r),n.loadLocalPhotoListData(t.slice(1),e,i)):e&&e(!0,r)})}else e&&e(!1)},this.getLocalFileURL=function(t){var e=null;return void 0!==window.createObjectURL?e=window.createObjectURL(t):void 0!==window.URL?e=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},this.loadImageWithUrl=function(t,e){var i=new Image;i.onload=function(){e&&e(i),i=null},i.src=t},this.getImageBase64Data=function(t,e){this.loadImageWithUrl(t,function(t){var i=t.width,n=t.height;console.info("resizeImage width:"+i),console.info("resizeImage height:"+n);var o=document.createElement("canvas");o.width=i,o.height=n,o.getContext("2d").drawImage(t,0,0,i,n);var a=o.toDataURL("image/jpeg");e&&e(a,i,n),o=null,a=null})},this.loadAndCompressInputImageData=function(t,e){console.warn("loadAndCompressInputImageData:"+t.name+", size:"+t.size);var i,n=this;a.getData(t,function(){i=a.getTag(t,"Orientation"),console.warn("EXIF.getData orientation:"+i)});var o=new FileReader;o.readAsDataURL(t),o.onload=function(t){var o=new Image;o.src=t.target.result,o.onload=function(){var t=this.naturalWidth,a=this.naturalHeight;this.naturalWidth>this.naturalHeight&&this.naturalWidth>800?(t=800,a=t*this.naturalHeight/this.naturalWidth):this.naturalHeight>this.naturalWidth&&this.naturalHeight>1200&&(a=1200,t=a*this.naturalWidth/this.naturalHeight);var r=document.createElement("canvas"),c=r.getContext("2d");r.width=t,r.height=a,c.drawImage(this,0,0,t,a);var h=null;if(i&&1!==i){new s(o).render(r,{maxWidth:800,maxHeight:1200,quality:.8,orientation:i})}h=r.toDataURL("image/jpeg",.8),parseInt(h.length-h.length/8*2)/1024e3>1?n.imgScale(h,4,e):e&&e(h,r.width,r.height)}}},this.imgScale=function(t,e,i){console.warn("imgScale");var n=new Image,o=document.createElement("canvas"),a=o.getContext("2d");n.src=t,n.onload=function(){var t=n.naturalWidth/e,s=n.naturalHeight/e;o.width=t,o.height=s,a.drawImage(this,0,0,t,s),i&&i(o.toDataURL("image/jpeg"),t,s)}},this.rotateImg=function(t,e,i){console.warn("rotateImg1:"+e);if(null!==t){var n=t.height,o=t.width,a=2;null===a&&(a=0),"right"===e?++a>3&&(a=0):--a<0&&(a=3),console.warn("rotateImg2");var s=90*a*Math.PI/180,r=i.getContext("2d");switch(console.warn("rotateImg3"),a){case 0:i.width=o,i.height=n,r.drawImage(t,0,0);break;case 1:i.width=n,i.height=o,r.rotate(s),r.drawImage(t,0,-n);break;case 2:i.width=o,i.height=n,r.rotate(s),r.drawImage(t,-o,-n);break;case 3:i.width=n,i.height=o,r.rotate(s),r.drawImage(t,-o,0)}console.warn("rotateImg6")}}};t.exports=r},yrGq:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9afa018da2403e1e0033.js.map